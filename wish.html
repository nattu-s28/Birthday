<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Wish</title>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&family=Sacramento&display=swap"
        rel="stylesheet">
    <style>
        /* Cosmic Theme Variables */
        :root {
            --bg-dark: #0a0014;
            --bg-violet: #1a0033;
            --neon-pink: #ff1493;
            --neon-violet: #9d4edd;
            --text-silver: #e0e0e0;
            --text-pink: #ffc0cb;
            --text-gold: #ffd700;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: radial-gradient(circle at 50% 50%, var(--bg-violet) 0%, var(--bg-dark) 100%);
            color: var(--text-silver);
            min-height: 100vh;
            overflow-x: hidden;
            overflow-y: auto;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 40px 20px;
        }

        /* Starfield Background */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image:
                radial-gradient(2px 2px at 20% 30%, white, transparent),
                radial-gradient(2px 2px at 60% 70%, white, transparent),
                radial-gradient(1px 1px at 50% 50%, white, transparent);
            background-size: 200% 200%;
            animation: twinkle 8s ease-in-out infinite;
            opacity: 0.6;
            pointer-events: none;
            z-index: 0;
        }

        @keyframes twinkle {

            0%,
            100% {
                opacity: 0.6;
            }

            50% {
                opacity: 0.3;
            }
        }

        .container {
            position: relative;
            z-index: 1;
            max-width: 900px;
            width: 100%;
            background: rgba(26, 0, 51, 0.7);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            border: 2px solid var(--neon-violet);
            box-shadow: 0 0 40px rgba(157, 78, 221, 0.4);
            padding: 50px 40px;
            max-height: 90vh;
            overflow-y: auto;
        }

        /* Custom scrollbar for container */
        .container::-webkit-scrollbar {
            width: 8px;
        }

        .container::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
        }

        .container::-webkit-scrollbar-thumb {
            background: var(--neon-violet);
            border-radius: 10px;
        }

        .container::-webkit-scrollbar-thumb:hover {
            background: var(--neon-pink);
        }

        h1 {
            font-family: 'Sacramento', cursive;
            font-size: 3.5rem;
            color: var(--neon-pink);
            text-shadow: 0 0 20px rgba(255, 20, 147, 0.5);
            margin-bottom: 40px;
            text-align: center;
        }

        .wish-content {
            font-size: 1.1rem;
            line-height: 2;
            color: var(--text-silver);
            white-space: pre-line;
            position: relative;
            word-wrap: break-word;
            overflow-wrap: break-word;
        }

        /* Typewriter effect */
        .wish-content.typing {
            overflow: hidden;
            border-right: 3px solid var(--neon-pink);
            animation: blinkCursor 0.75s step-end infinite;
        }

        /* Static display with subtle glow */
        .wish-content.static {
            border-right: none;
            animation: none;
            text-shadow: 0 0 8px rgba(224, 224, 224, 0.3);
        }

        @keyframes blinkCursor {

            from,
            to {
                border-color: transparent;
            }

            50% {
                border-color: var(--neon-pink);
            }
        }

        /* Highlight important dates */
        .wish-content strong {
            color: var(--text-gold);
            font-weight: 600;
        }

        /* Final line styling */
        .final-line {
            margin-top: 30px;
            padding-top: 30px;
            border-top: 2px dashed var(--neon-violet);
            font-size: 1.3rem;
            color: var(--neon-pink);
            text-align: center;
            font-weight: 600;
            text-shadow: 0 0 15px rgba(255, 20, 147, 0.5);
        }

        @media (max-width: 600px) {
            body {
                padding: 20px 10px;
                align-items: flex-start;
            }

            .container {
                padding: 25px 20px;
                max-height: 85vh;
                margin-top: 20px;
                margin-bottom: 20px;
            }

            h1 {
                font-size: 2rem;
                margin-bottom: 25px;
            }

            .wish-content {
                font-size: 0.85rem;
                line-height: 1.7;
            }

            .final-line {
                font-size: 0.95rem;
                margin-top: 20px;
                padding-top: 20px;
            }
        }

        @media (max-width: 400px) {
            .container {
                padding: 20px 15px;
                border-radius: 15px;
            }

            h1 {
                font-size: 1.7rem;
            }

            .wish-content {
                font-size: 0.8rem;
                line-height: 1.6;
            }
        }

        /* Gift Message Box */
        .gift-box {
            margin-top: 40px;
            padding: 30px;
            background: rgba(255, 20, 147, 0.1);
            border: 2px solid var(--neon-pink);
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 0 20px rgba(255, 20, 147, 0.3);
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.8s ease, transform 0.8s ease;
        }

        .gift-box.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .gift-box h2 {
            font-family: 'Sacramento', cursive;
            font-size: 2.5rem;
            color: var(--text-gold);
            margin-bottom: 20px;
            text-shadow: 0 0 15px rgba(255, 215, 0, 0.5);
        }

        .gift-icon {
            font-size: 4rem;
            margin: 20px 0;
            animation: bounce 2s ease-in-out infinite;
        }

        @keyframes bounce {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-15px);
            }
        }

        .gift-message {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--neon-pink);
            text-shadow: 0 0 10px rgba(255, 20, 147, 0.4);
            min-height: 2rem;
        }

        /* Typewriter effect for gift message */
        .gift-message.typing {
            border-right: 3px solid var(--neon-pink);
            animation: blinkCursor 0.75s step-end infinite;
            display: inline-block;
        }

        .gift-message.static {
            border-right: none;
            animation: none;
        }

        @media (max-width: 600px) {
            .gift-box {
                padding: 20px;
                margin-top: 30px;
            }

            .gift-box h2 {
                font-size: 2rem;
            }

            .gift-icon {
                font-size: 3rem;
            }

            .gift-message {
                font-size: 1.2rem;
            }
        }

        /* Locked Button */
        .locked-button-container {
            margin-top: 50px;
            text-align: center;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.8s ease, transform 0.8s ease;
        }

        .locked-button-container.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .locked-btn {
            display: inline-block;
            padding: 18px 40px;
            background: linear-gradient(135deg, #666, #999);
            color: white;
            border: none;
            border-radius: 50px;
            font-weight: 600;
            font-size: 1.1rem;
            cursor: not-allowed;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
            position: relative;
            text-decoration: none;
        }

        .locked-btn.unlocked {
            background: linear-gradient(135deg, var(--neon-pink), var(--neon-violet));
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(255, 20, 147, 0.4);
        }

        .locked-btn.unlocked:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(255, 20, 147, 0.6);
        }

        .lock-icon {
            font-size: 1.5rem;
            margin-right: 10px;
            display: inline-block;
            animation: lockShake 2s ease-in-out infinite;
        }

        @keyframes lockShake {

            0%,
            100% {
                transform: rotate(0deg);
            }

            25% {
                transform: rotate(-10deg);
            }

            75% {
                transform: rotate(10deg);
            }
        }

        .unlocked .lock-icon {
            animation: unlockBounce 0.6s ease-out;
        }

        @keyframes unlockBounce {
            0% {
                transform: scale(1) rotate(0deg);
            }

            50% {
                transform: scale(1.3) rotate(20deg);
            }

            100% {
                transform: scale(1) rotate(0deg);
            }
        }

        .countdown-text {
            display: block;
            font-size: 0.9rem;
            margin-top: 10px;
            color: var(--text-silver);
        }

        @media (max-width: 600px) {
            .locked-btn {
                padding: 15px 30px;
                font-size: 1rem;
            }

            .lock-icon {
                font-size: 1.3rem;
            }

            .countdown-text {
                font-size: 0.8rem;
            }
        }
    </style>
</head>

<body>
    <!-- Wish Audio -->
    <audio id="wish-audio" src="Audio/Song3.mpeg" loop preload="auto"></audio>

    <div class="container">
        <h1>My Wishüåç</h1>
        <div id="wishContent" class="wish-content typing"></div>

        <!-- Gift Message Box -->
        <div class="gift-box" id="giftBox">
            <h2>My Gifts</h2>
            <div class="gift-icon">üéÅ</div>
            <div class="gift-message typing" id="giftMessage"></div>
        </div>

        <!-- Locked Button -->
        <div class="locked-button-container">
            <a href="letter.html" id="letterBtn" class="locked-btn">
                <span class="lock-icon" id="lockIcon">üîí</span>
                <span id="btnText">Locked</span>
            </a>
            <span class="countdown-text" id="countdownText">Unlocks in: Calculating...</span>
        </div>
    </div>

    <script>
        // The complete message to display
        const WISH_MESSAGE = `Wish  you  a  Very  Most  Happiest  Birthday  My  Dear...!üåçüíé Un Pera  Engaum  Use  Panna  kudathunu  SollitaüòÅ Paravalla  Adhu  namma  Nallathukuthan.  Inaiku  Unaku  Speacialoo  Ilayoo  Enaku  Romba  Romba  Speacial  Day  Mahü•≥. Inaiku  Unnavida  Nan  Romba  Happppiyaaa  Irukenü•≥ Manasula  Evlo  Kastam  irunthalum  Ellathaum  Inaiku  Maranthutu  Happiya  Unaku  Pudichatha  Senjutu  Happiya  iru  MahüíØ‚ù§Ô∏è‚Äçü©πNee  Epti  Irukanu  Enaku  Thriyala  Nalla  Irupenu  Namburenüñ§ Mah  Pathu  Inaikoda  68  days  achu  Mah...!üôÉ Today  Is  your  very  Speacial  Day  Mahüéâ  Epoumee  Sirichutee  Irumahh..ü•∞  Epoumee  Happiya  Irumah..ü•π Epoum  Sandosama  Iru..üôÉ  Epoum  Nimathiya  Iru..‚ù§Ô∏è Enna  Vittu  Nee  Thoorama  Irunthalum  Thenamum  Ilanalum  Un  Nyabgathuku  Epovachum  varuvenu  Namburen..ü§ó Nee  Enoda  Bday  Call  Panna  Maari  Nanum  Unaku  En  Vayala  Wish  Pannaum  nu  Aasai  PadurenüòáUnaku  Thrium  Nee  Pesuna  Nan  Happiya  Irupenu  adhunala  Anaiku  Enaku  Happiness  Kudutha  Call  Panniü•π Ana  Unaku  Eptinu  Thriyala  Unna  Compalee  Edumee  Pannala  Unaku  Pudichuruntha  Mattum  Enaku  Call  Pannu  Mah‚ù§Ô∏èüíØ Nee  Call  Pannalum  Pannalanalum  Edhum  Feel  Panna  MatenüíØ. Beacuse  Today  is  Your  Speacial  Day  Enakumü•≥ Mah  Epoum  Pola  tha  Un  Manasuku  Edhu  Serinu  Paduthoo  Adha  Sei...üíØüñ§Enkitta  Pesa  varthaigal  Evolovo  IrukuüôÇEllathaum  Textla  Express  pannavo  Pesavoo  Mudiyathu  Aprom  Inaiku  edhuvum  Pesavum  Theva  Ilaü´Ç Mahhh  Once  Again  Happiest  Birthday  Mahh...!üíïüéäüéâ Stay  Blessedü•π and  Live  Happie  ForeverüíØEpovachum  Lonely  a  Feel  Panena  Kavalyee  Padatha  Epoumeee...üí´‚ù§Ô∏è‚Äçü©πVarthaiku  Ila  Epoumee  Unakaga  Oru  Jeevan  kathutu Irukumüñ§Miss You Lots...!üñ§Stay Happy Mahh...!ü•πü´Ç`;

        const wishContentElement = document.getElementById('wishContent');
        const TYPING_DURATION = 36000; // 36 seconds in milliseconds

        let currentIndex = 0;
        const totalChars = WISH_MESSAGE.length;
        const charDelay = TYPING_DURATION / totalChars; // Calculate delay per character

        // Audio playback management
        const wishAudio = document.getElementById('wish-audio');
        let audioStarted = false;

        // Function to start audio
        function startAudio() {
            if (!audioStarted && wishAudio) {
                wishAudio.play()
                    .then(() => {
                        audioStarted = true;
                        console.log('Audio playing successfully');
                    })
                    .catch(err => {
                        console.log('Audio play failed:', err);
                    });
            }
        }

        // Add multiple event listeners for better mobile support
        const events = ['click', 'touchstart', 'touchend', 'scroll', 'keydown', 'mousemove'];

        events.forEach(event => {
            document.addEventListener(event, function handler() {
                startAudio();
                // Remove all event listeners after first successful interaction
                if (audioStarted) {
                    events.forEach(e => {
                        document.removeEventListener(e, handler);
                    });
                }
            }, { passive: true });
        });

        // Try to autoplay (will work on some browsers/devices)
        if (wishAudio) {
            // Small delay to ensure page is loaded
            setTimeout(() => {
                wishAudio.play()
                    .then(() => {
                        audioStarted = true;
                        console.log('Autoplay successful');
                    })
                    .catch(err => {
                        console.log('Autoplay blocked, waiting for user interaction');
                    });
            }, 100);
        }

        // Typewriter function for wish message
        function typeWriter() {
            if (currentIndex < totalChars) {
                wishContentElement.textContent = WISH_MESSAGE.substring(0, currentIndex + 1);
                currentIndex++;
                setTimeout(typeWriter, charDelay);
            } else {
                // Typing complete - switch to static display
                wishContentElement.classList.remove('typing');
                wishContentElement.classList.add('static');

                // Reveal gift box after a short delay
                setTimeout(() => {
                    revealGiftBox();
                }, 1000);
            }
        }

        // Function to reveal gift box and start typing gift message
        function revealGiftBox() {
            const giftBox = document.getElementById('giftBox');
            const giftMessageElement = document.getElementById('giftMessage');

            // Show the gift box with animation
            giftBox.classList.add('visible');

            // Start typing gift message after box is visible
            setTimeout(() => {
                typeGiftMessage();
            }, 800);
        }

        // Typewriter function for gift message
        function typeGiftMessage() {
            const GIFT_MESSAGE = "Mah Endha Website En Anboda Unakaga Pathu Pathu Pannikuren Unaku Eptina Pudikuma Pudikathanu Pathu Pathu Pannen Oru Velai Endha Website Engayachum Una Hurt Panniruntha Enna Mannichuru Mah Nan Venum nu Pannala Mostly Secure a Panniruken nee Edhukum Bayapuda Vendam Edhu Enoda Anbana Visual Gift edhu Unaku Pudikum nu Namburen Oru Velai Pudikalana...Vitru Mah‚ù§Ô∏èü•∞.Mah Ennoda Happiness Kaga Unakaga Enoda Anboda Nan Sila Hand Made Gifts Panni Vachruken Adhu Epo Enta Ila Gokul ta Iruku Unakaga adhuta Kuduthuruken Adha Poi Kandipa Kuduka Vendam nu Solliten Nee Poii Adha Vangikoo Mahh Unaku Adhu Pudikumanu Thriyala Ana Enaku Adhu Oru Chinna Sandosam Mah Unna Compale lam Pannala Mah Nan Ini Epoumee Edhukagavum Unna Compale Panna Maten Unaku Istam Iruntha Mattum Mah Kandipa Unaku Istam Iruntha Mattum Vangiko.En Pecha Keppanu Namburen Pudikatha edum Seiyatha Mah..ilana Onula Mah Nan Kavala Pada maten Unmaiya.. Nan Thriumba Pongaluku Varumothu Vangitu Poi Batrama Vachukuren Unakaga‚ù§Ô∏èüíïMiss youüñ§Take Care Mah‚ù§Ô∏èü•∞";
            const giftMessageElement = document.getElementById('giftMessage');
            let giftIndex = 0;
            const giftCharDelay = 100; // 100ms per character

            function typeGift() {
                if (giftIndex < GIFT_MESSAGE.length) {
                    giftMessageElement.textContent = GIFT_MESSAGE.substring(0, giftIndex + 1);
                    giftIndex++;
                    setTimeout(typeGift, giftCharDelay);
                } else {
                    // Typing complete - remove cursor
                    giftMessageElement.classList.remove('typing');
                    giftMessageElement.classList.add('static');

                    // Reveal locked button after a short delay
                    setTimeout(() => {
                        revealLockedButton();
                    }, 1000);
                }
            }

            typeGift();
        }

        // Function to reveal the locked button
        function revealLockedButton() {
            const lockedButtonContainer = document.querySelector('.locked-button-container');
            lockedButtonContainer.classList.add('visible');
        }

        // Start typing effect
        typeWriter();

        // Countdown Timer for Locked Button
        const letterBtn = document.getElementById('letterBtn');
        const lockIcon = document.getElementById('lockIcon');
        const btnText = document.getElementById('btnText');
        const countdownText = document.getElementById('countdownText');

        // Target date: December 29, 2025 00:00:00
        const unlockDate = new Date('December 29, 2025 00:00:00').getTime();

        function updateCountdown() {
            const now = new Date().getTime();
            const distance = unlockDate - now;

            if (distance < 0) {
                // Unlock the button
                letterBtn.classList.add('unlocked');
                letterBtn.style.pointerEvents = 'auto';
                lockIcon.textContent = 'üîì';
                btnText.textContent = 'Open My Letter';
                countdownText.textContent = 'Unlocked! Click to read';
                clearInterval(countdownInterval);
                return;
            }

            // Calculate time remaining
            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            // Update countdown display
            countdownText.textContent = `Unlocks in: ${days}d ${hours}h ${minutes}m ${seconds}s`;
        }

        // Update countdown every second
        const countdownInterval = setInterval(updateCountdown, 1000);
        updateCountdown(); // Initial call

        // Prevent clicking locked button
        letterBtn.addEventListener('click', function (e) {
            if (!letterBtn.classList.contains('unlocked')) {
                e.preventDefault();
            }
        });
    </script>

</body>

</html>